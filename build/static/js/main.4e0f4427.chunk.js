(this.webpackJsonpmp3online=this.webpackJsonpmp3online||[]).push([[0],{172:function(e,t,a){e.exports=a(326)},181:function(e,t,a){},326:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(22),c=a.n(s),i=a(16),l=a(15),o=(a(180),a(181),a(182),a(8)),u=a(9),m=a(11),p=a(10),h=a(12),g=a(7),d=a(52),f=a(41),b=a(333),E=a(332),v=a(331),y=a(159),O=a(4),k=a.n(O),j=a(13),S=a(65),w=a.n(S),C=a(45),N=a.n(C),x="https://api.kmp3.ga",P=function(){var e=Object(j.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(x),e.abrupt("return",new Promise(function(){var e=Object(j.a)(k.a.mark((function e(t,a){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=N.a.getItem("token"),r=w.a.create({baseURL:x,headers:{authorization:"Bearer ".concat(n)}}),t(r);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=w.a.create({baseURL:x}),D=w.a.create({baseURL:"https://sso.kmp3.ga/"}),L=function(e){var t=e.username,a=e.password;return function(e){e(U()),w.a.post("".concat("https://api.kmp3.ga","/auth/login"),{username:t,password:a}).then((function(t){console.log(t),N.a.setItem("token",t.data.token),e(H(t.data.token))})).catch((function(t){e(R())}))}},A=function(e){return function(t){I.post("/auth/login-fb",{accessToken:e}).then((function(e){N.a.setItem("token",e.data.token),t(H(e.data.token))})).catch((function(e){}))}},T=function(e){return function(t){N.a.setItem("token",e),t(H(e))}},z=function(e){return function(t){I.post("/auth/login-gg",{accessToken:e}).then((function(e){N.a.setItem("token",e.data.token),t(H(e.data.token))})).catch((function(e){}))}},F=function(){return function(e){var t=N.a.getItem("token");console.log("token luc khoi dong",t),t&&e(M(t))}},G=function(){return N.a.removeItem("token"),function(e){return e({type:"LOGOUT",payload:{data:!1,login:!1}})}},B=function(){return function(){var e=Object(j.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:e.sent.get("/users/me").then((function(e){t(_(e.data))})).catch((function(e){200!==e.response.status&&t({type:"TOKENEXPIRED",payload:{data:!1,login:!1}})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},M=function(e){return{type:"CHECKINIT",payload:{token:e}}},_=function(e){return{type:"GETME",payload:{user:e}}},H=function(e){return{type:"LOGIN_SUCCESS",payload:{token:e}}},U=function(){return{type:"LOGIN_START"}},R=function(){return{type:"LOGIN_FAIL",payload:{loginFail:"T\xe0i kho\u1ea3n ho\u1eb7c m\u1eadt kh\u1ea9u sai"}}},q=a(334),K=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).props.checkInit(),a.props.user.logined&&a.props.getMe(),a.state={},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(){!this.props.user.data&&this.props.user.logined&&this.props.getMe()}},{key:"logOut",value:function(){this.props.logOut(),window.location.reload()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"profile-container"},this.props.user.logined?this.props.user.data&&r.a.createElement("div",{className:"profile-content"},r.a.createElement(g.b,{to:"/user/".concat(this.props.user.data.id)},r.a.createElement("img",{alt:this.props.user.data.name,src:this.props.user.data.avatar,className:"avatar"}),r.a.createElement("span",null,this.props.user.data.name)),r.a.createElement(q.a,{id:"dropdown-menu-align-right",alignRight:!0,className:"navbar-inverse"},r.a.createElement(q.a.Item,{onClick:function(){return e.logOut()}},"\u0110\u0103ng xu\u1ea5t"))):r.a.createElement(g.b,{to:"/login"},"\u0110\u0103ng nh\u1eadp"))}}]),t}(n.Component);var Y=Object(i.b)((function(e){return{user:e.auth}}),(function(e){return Object(l.b)({checkInit:F,getMe:B,logOut:G},e)}))(K),Q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={input:""},console.log(a.props),a.onChangeInput=a.onChangeInput.bind(Object(f.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"submitSearch",value:function(e){e.preventDefault(),this.props.history.replace("/search?keyword=".concat(this.state.input))}},{key:"onChangeInput",value:function(e){console.log(this.props),this.setState({input:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(b.a,{bg:"dark",expand:"lg"},r.a.createElement(b.a.Brand,null,r.a.createElement(g.b,{to:"/"},"MP3 Online")),r.a.createElement(b.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(b.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(E.a,{className:"mr-auto"},r.a.createElement(E.a.Link,null,r.a.createElement(g.b,{to:"/"},"Home")),r.a.createElement(E.a.Link,null,r.a.createElement(g.b,{to:"/chart"},"Chart")),r.a.createElement(E.a.Link,null,r.a.createElement(g.b,{to:"/"},"Artist")))),r.a.createElement(v.a,{inline:!0,className:"form-search",onSubmit:function(t){return e.submitSearch(t)}},r.a.createElement(y.a,{onChange:function(t){return e.onChangeInput(t.target.value)},type:"text",placeholder:"Search song,album...",className:"sr-sm-2 ",id:"input-search"})),r.a.createElement(E.a,null,r.a.createElement(Y,null))))}}]),t}(n.Component),W=Object(d.f)(Q),J=a(116),V=function(e){return function(t){t({type:"PLAY_SONG",payload:{songActive:e}})}},X=function(){return function(e){e({type:"REMOVE_LIST"})}},Z=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={items:[]},a.getData(),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"getData",value:function(){var e=Object(j.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("/song/slide");case 2:t=e.sent,this.setState({items:t.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(J.a,null,this.state.items.map((function(t,a){return console.log("song ne",t.coverImg),r.a.createElement(J.a.Item,{key:a,onClick:function(){e.props.playSong(t)}},r.a.createElement("a",null,r.a.createElement("img",{className:"d-block w-100",src:t.coverImg,alt:t.nameSong})))}))))}}]),t}(n.Component);var $=Object(i.b)((function(e){return{songActive:e.songActive}}),(function(e){return Object(l.b)({playSong:V},e)}))(Z),ee=a(329),te=a(161),ae=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={items:[]},a.getData(),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"getData",value:function(){var e=Object(j.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("/song/new");case 2:t=e.sent,this.setState({items:t.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"section"},r.a.createElement("h3",null,"Nh\u1eefng b\xe0i h\xe1t m\u1edbi"),r.a.createElement(ee.a,null,this.state.items.map((function(e,t){return t>11?r.a.createElement("div",null):r.a.createElement(te.a,{key:t,col:!0,lg:2,md:2,className:"playable song",onClick:function(){}},r.a.createElement(g.b,{to:"/song/detail/".concat(e.id)},r.a.createElement("img",{src:e.image,className:"song-image",alt:e.nameSong}),r.a.createElement("p",null,e.nameSong),r.a.createElement("div",{class:"player-actions"},r.a.createElement("ul",null,r.a.createElement("li",{style:{zIndex:11}},r.a.createElement("i",{class:"icon ic-svg-play-outline"}))))))}))))}}]),t}(n.Component);var ne=Object(i.b)((function(e){return{songActive:e.songActive}}),(function(e){return Object(l.b)({playSong:V},e)}))(ae),re=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={items:[]},a.getData(),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"getData",value:function(){var e=Object(j.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("/artist/suggest");case 2:t=e.sent,this.setState({items:t.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"section"},r.a.createElement("h3",null,"Ngh\u1ec7 s\u0129"),r.a.createElement(ee.a,null,r.a.createElement("div",{className:""}),this.state.items.map((function(e,t){return r.a.createElement(te.a,{key:t,lg:2},r.a.createElement(g.b,{to:"/artist/".concat(e.id)},r.a.createElement("img",{src:e.avatar,className:"artist-image",alt:e.name}),r.a.createElement("p",null,e.name)))}))))}}]),t}(n.Component),se=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={items:[]},a.getData(),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"getData",value:function(){var e=Object(j.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("/album/new");case 2:t=e.sent,this.setState({items:t.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"section"},r.a.createElement("h3",null,"Albums m\u1edbi"),r.a.createElement(ee.a,null,this.state.items.map((function(e,t){return t>4?r.a.createElement("div",null):r.a.createElement(te.a,{key:t},r.a.createElement(g.b,{to:"/album/".concat(e.id)},r.a.createElement("img",{className:"album-image",src:e.img,alt:e.albumName}),r.a.createElement("p",null,e.albumName)))}))))}}]),t}(n.Component),ce=a(27),ie=a(17),le=a(330),oe=a(157),ue=a(21);function me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?me(a,!0).forEach((function(t){Object(ie.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):me(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var he=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).getListSong(),a.state={},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleShow",value:function(){this.setState(pe({},this.state,{show:!0}))}},{key:"handleClose",value:function(){this.setState(pe({},this.state,{show:!1}))}},{key:"getListSong",value:function(){var e=Object(j.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:return t=e.sent,e.next=5,t.get("/song/chart?page=1&size=".concat(this.props.limit));case 5:a=e.sent,console.log(a.data),this.setState(pe({},this.state,{listSong:a.data}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"likeSong",value:function(){var e=Object(j.a)(k.a.mark((function e(t,a){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("id like:",t),this.props.user.logined){e.next=4;break}return this.handleShow(),e.abrupt("return");case 4:return e.next=6,P();case 6:if(n=e.sent,a){e.next=15;break}return(r=Object(ce.a)(this.state.listSong)).forEach((function(e){e.id===t&&(e.liked=!0)})),this.setState(pe({},this.state,{listSong:r})),e.next=13,n.post("/users/like/",{songId:t});case 13:e.next=20;break;case 15:return e.next=17,n.post("/users/unlike/",{songId:t});case 17:this.setState(pe({},this.state,{item:pe({},this.state.item)})),Object(ce.a)(this.state.listSong).forEach((function(e){e.id===t&&(e.liked=!1)}));case 20:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.listSong?(console.log(this.state.listSong),r.a.createElement("div",{className:"section"},r.a.createElement("h4",null,"B\u1ea3ng x\u1ebfp h\u1ea1ng"),r.a.createElement("br",null),r.a.createElement(le.a,{show:this.state.show,onHide:function(){return e.handleClose()}},r.a.createElement(le.a.Header,{closeButton:!0},r.a.createElement(le.a.Title,null,"Ch\xfa \xfd")),r.a.createElement(le.a.Body,null,"B\u1ea1n c\u1ea7n ph\u1ea3i \u0111\u0103ng nh\u1eadp \u0111\u1ec3 th\u1ef1c hi\u1ec7n t\xednh n\u0103ng n\xe0y"),r.a.createElement(le.a.Footer,null,r.a.createElement(oe.a,{variant:"secondary",onClick:function(){return e.handleClose()}},"\u0110\xf3ng"),r.a.createElement(g.b,{to:"/login"},r.a.createElement(oe.a,{variant:"primary",onClick:function(){return e.handleClose()}},r.a.createElement("span",null,"Login"))))),r.a.createElement(ee.a,null,r.a.createElement(te.a,{className:"list-song-album-page"},r.a.createElement("div",null,this.state.listSong.map((function(t,a){return r.a.createElement("div",{style:{display:"-webkit-box"}},r.a.createElement("div",{className:"all-card playable",onClick:function(){e.props.playSong(t)}},r.a.createElement("div",{className:"song-list",key:a},r.a.createElement("div",{class:"order"},r.a.createElement("span",{className:"list-number"},a+1)),r.a.createElement("img",{src:t.image,className:"thum-40",alt:t.nameSong})),r.a.createElement("div",{className:"song-card-info"},r.a.createElement("div",{className:"title"},r.a.createElement("p",{className:"title-singer"},t.nameSong)),r.a.createElement("div",{className:"artist"},t.singer.map((function(e,t){return 0===t?r.a.createElement("span",{key:t},e):r.a.createElement("span",{key:t},", ",e)}))))),r.a.createElement("div",null,t.liked?r.a.createElement(ue.b,{className:"like-icon",onClick:function(){return e.likeSong(t.id,t.liked)}}):r.a.createElement(ue.d,{className:"like-icon",onClick:function(){return e.likeSong(t.id,t.liked)}}),r.a.createElement(g.b,{to:"/song/detail/".concat(t.id),style:{marginLeft:"20px"}},r.a.createElement(ue.a,{className:"like-icon"}))))}))))))):r.a.createElement("div",null)}}]),t}(n.Component);var ge=Object(i.b)((function(e){return{songActive:e.songActive,user:e.auth}}),(function(e){return Object(l.b)({playSong:V},e)}))(he),de=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={items:[]},a.getData(),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"getData",value:function(){var e=Object(j.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("/categories/popular");case 2:t=e.sent,this.setState({items:t.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"section"},r.a.createElement("h3",null,"Th\u1ec3 lo\u1ea1i"),r.a.createElement(ee.a,null,r.a.createElement("div",{className:""}),this.state.items.map((function(e,t){return r.a.createElement(te.a,{key:t,lg:2},r.a.createElement(g.b,{to:"/category/".concat(e.id)},r.a.createElement("img",{src:e.img,className:"category-image",alt:e.name}),r.a.createElement("p",null,e.name)))}))))}}]),t}(n.Component),fe=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement($,null),r.a.createElement(ne,null),r.a.createElement(ge,{limit:5}),r.a.createElement(se,null),r.a.createElement(de,null),r.a.createElement(re,null))}}]),t}(n.Component),be=a(158),Ee=a(160),ve=a(164),ye=a.n(ve),Oe=a(165),ke=a(166),je=a.n(ke);function Se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function we(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Se(a,!0).forEach((function(t){Object(ie.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Se(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ce=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(ie.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.loginAction({username:a.state.username,password:a.state.password}),a.props.getMe()},a.handleChange=a.handleChange.bind(Object(f.a)(a));var n=new URLSearchParams(a.props.location.search).get("signup");return a.responseFacebook=a.responseFacebook.bind(Object(f.a)(a)),a.responseGoogle=a.responseGoogle.bind(Object(f.a)(a)),a.state="success"===n?{redirectMess:"\u0110\u0103ng k\xfd th\xe0nh c\xf4ng, m\u1eddi \u0111\u0103ng nh\u1eadp l\u1ea1i",username:"",password:""}:{username:"",password:""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"responseGoogle",value:function(e){console.log("response tu gg",e),this.props.loginGg(e.tokenId)}},{key:"validateForm",value:function(){return this.state.username.length>0&&this.state.password.length>0}},{key:"responseFacebook",value:function(e){console.log("response",e),this.props.loginFb(e.accessToken)}},{key:"handleShow",value:function(){this.setState(we({},this.state,{show:!0}))}},{key:"handleClose",value:function(){this.setState(we({},this.state,{show:!1}))}},{key:"clickSso",value:function(){var e=Object(j.a)(k.a.mark((function e(){var t,a,n=this;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.handleShow(),e.next=3,D.post("/authorization/transaction",{appId:"iEMBWG8Lr"});case 3:t=e.sent,this.setState(we({},this.state,{qrCodeUrl:t.data.codeURL})),a=setInterval(Object(j.a)(k.a.mark((function e(){var r,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("pollni=="),e.next=3,D.get("/authorization/polling/".concat(t.data.sessionId));case 3:if(204!==(r=e.sent).data.status){e.next=9;break}n.setState(we({},n.state,{read:!0})),console.log("da doc",r),e.next=19;break;case 9:if(200!==r.data.status){e.next=19;break}return console.log("data ne",r.data),clearInterval(a),e.next=14,I.post("/auth/login-sso",{token:r.data.accessToken});case 14:s=e.sent,console.log(s),n.props.loginSso(s.data),console.log("chuyen sang trang home"),window.location="/";case 19:case"end":return e.stop()}}),e)}))),2e3);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.user.logined?r.a.createElement(d.a,{to:"/"}):r.a.createElement("div",{className:"Login"},r.a.createElement(le.a,{show:this.state.show,onHide:function(){return e.handleClose()}},r.a.createElement(le.a.Header,{closeButton:!0},r.a.createElement(le.a.Title,null,"Qu\xe9t m\xe3 QR code")),r.a.createElement(le.a.Body,null,this.state.qrCodeUrl?r.a.createElement("img",{style:{display:"block",margin:"auto"},src:this.state.qrCodeUrl,alt:"qrcode"}):r.a.createElement("div",{style:{width:"70px",margin:"auto"}},r.a.createElement(je.a,{size:70,spinnerColor:"#2768ca",spinnerWidth:2,visible:!0})),this.state.read?r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("p",null,"\u0110\xe3 qu\xe9t, ch\u1edd x\xe1c nh\u1eadn")):null),r.a.createElement(le.a.Footer,null,r.a.createElement(oe.a,{variant:"secondary",onClick:function(){return e.handleClose()}},"\u0110\xf3ng"))),r.a.createElement("h5",{style:{textAlign:"center"}},this.state.redirectMess),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(be.a,{controlId:"username",bsSize:"large"},r.a.createElement(Ee.a,null,"T\xean \u0111\u0103ng nh\u1eadp"),r.a.createElement(y.a,{autoFocus:!0,type:"text",onChange:this.handleChange})),r.a.createElement(be.a,{controlId:"password",bsSize:"large"},r.a.createElement(Ee.a,null,"M\u1eadt kh\u1ea9u"),r.a.createElement(y.a,{value:this.state.password,onChange:this.handleChange,type:"password"})),r.a.createElement("p",null,this.props.user.loginFail),r.a.createElement(oe.a,{className:"button",block:!0,disabled:!this.validateForm(),type:"submit"},"Login")),r.a.createElement("div",{className:"social-login",style:{justifyContent:"center",display:"grid",marginTop:"30px"}},r.a.createElement(ye.a,{style:{width:"45%"},appId:"2613047625477892",fields:"name",callback:this.responseFacebook}),r.a.createElement("div",{style:{marginTop:"30px"}},r.a.createElement(Oe.GoogleLogin,{clientId:"489701027929-pluu215a3umit17t7iutmliavd0qmbec.apps.googleusercontent.com",buttonText:"Login",className:"gg-button",style:{width:"100%"},onSuccess:this.responseGoogle,onFailure:this.responseGoogle,cookiePolicy:"single_host_origin"})),r.a.createElement("div",null,r.a.createElement("button",{className:"ssoButton",onClick:function(){e.clickSso()}},r.a.createElement("span",null,"Login By SSO")))),r.a.createElement("div",{style:{justifyContent:"center",display:"flex",marginTop:"30px"}},r.a.createElement("p",null,"N\u1ebfu b\u1ea1n ch\u01b0a c\xf3 t\xe0i kho\u1ea3n?"),r.a.createElement(g.b,{to:"/signup"},r.a.createElement("span",null,"Click Here"))))}}]),t}(n.Component);var Ne=Object(i.b)((function(e){return{user:e.auth}}),(function(e){return Object(l.b)({loginAction:L,loginSso:T,getMe:B,loginFb:A,loginGg:z},e)}))(Ce),xe=a(167),Pe=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.component,n=Object(xe.a)(t,["component"]);return r.a.createElement(d.b,Object.assign({},n,{render:function(t){return e.props.user.logined?r.a.createElement(a,t):r.a.createElement(d.a,{to:"/login"})}}))}}]),t}(n.Component);var Ie=Object(i.b)((function(e){return{user:e.auth}}))(Pe),De=(a(226),a(168)),Le=a.n(De),Ae=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={playIndex:0,display:!0},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"getNameSinger",value:function(e){var t="";return e.singer.forEach((function(e,a){e.singer?t+=0===a?e.singer:" ,"+e.singer:t+=0===a?e:" ,"+e})),t}},{key:"render",value:function(){var e=this;return!this.props.song.activeSong.length>0?r.a.createElement("div",null):this.props.song.list?(console.log("o phai cap nhat chu :((("),this.props.removeOldList(),r.a.createElement("div",null)):(console.log(this.props.song),r.a.createElement("div",null,r.a.createElement(Le.a,{className:"audioControl",audioLists:this.props.song.activeSong.map((function(t){return console.log(e.getNameSinger(t)),{name:t.nameSong,singer:e.getNameSinger(t),musicSrc:"".concat("https://api.kmp3.ga","/song/")+t.id,cover:t.image}})),defaultPlayIndex:this.props.song.activeSong.length-1,mode:"full"})))}}]),t}(n.Component);var Te=Object(i.b)((function(e){return{song:e.song}}),(function(e){return Object(l.b)({removeOldList:X},e)}))(Ae),ze=a(170);function Fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Fe(a,!0).forEach((function(t){Object(ie.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Be=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).getDataArtist(a.props.match.params.id),a.getListSong(a.props.match.params.id),a.state={},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleShow",value:function(){this.setState(Ge({},this.state,{show:!0}))}},{key:"handleClose",value:function(){this.setState(Ge({},this.state,{show:!1}))}},{key:"getDataArtist",value:function(){var e=Object(j.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("/artist/detail/".concat(t));case 2:a=e.sent,console.log(a),this.setState(Ge({},this.state,{artist:a.data}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getListSong",value:function(){var e=Object(j.a)(k.a.mark((function e(t){var a,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:return a=e.sent,e.next=5,a.get("/song/artist/".concat(t));case 5:n=e.sent,this.setState(Ge({},this.state,{listSong:n.data}));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"likeSong",value:function(){var e=Object(j.a)(k.a.mark((function e(t,a){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("id like:",a),this.props.user.logined){e.next=4;break}return this.handleShow(),e.abrupt("return");case 4:return e.next=6,P();case 6:if(n=e.sent,a){e.next=15;break}return e.next=10,n.post("/users/like/",{songId:t});case 10:(r=Object(ce.a)(this.state.listSong)).forEach((function(e){e.id===t&&(e.liked=!0)})),this.setState(Ge({},this.state,{listSong:r})),e.next=20;break;case 15:return e.next=17,n.post("/users/unlike/",{songId:t});case 17:Object(ce.a)(this.state.listSong).forEach((function(e){e.id===t&&(e.liked=!1)})),this.setState(Ge({},this.state,{item:Ge({},this.state.item)}));case 20:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.artist&&this.state.listSong?r.a.createElement("div",{className:"section"},r.a.createElement(le.a,{show:this.state.show,onHide:function(){return e.handleClose()}},r.a.createElement(le.a.Header,{closeButton:!0},r.a.createElement(le.a.Title,null,"Ch\xfa \xfd")),r.a.createElement(le.a.Body,null,"B\u1ea1n c\u1ea7n ph\u1ea3i \u0111\u0103ng nh\u1eadp \u0111\u1ec3 th\u1ef1c hi\u1ec7n t\xednh n\u0103ng n\xe0y"),r.a.createElement(le.a.Footer,null,r.a.createElement(oe.a,{variant:"secondary",onClick:function(){return e.handleClose()}},"\u0110\xf3ng"),r.a.createElement(g.b,{to:"/login"},r.a.createElement(oe.a,{variant:"primary",onClick:function(){return e.handleClose()}},r.a.createElement("span",null,"Login"))))),r.a.createElement("img",{className:"coverImg",src:this.state.artist.coverImage,alt:this.state.artist.name}),r.a.createElement(ee.a,{className:"description-artist"},r.a.createElement(te.a,{lg:3},r.a.createElement("img",{src:this.state.artist.avatar,alt:this.state.name})),r.a.createElement(te.a,{lg:9},r.a.createElement("p",null,this.state.artist.name),r.a.createElement("p",null,this.state.artist.description))),r.a.createElement("h3",null,"Nh\u1eefng ca kh\xfac c\u1ee7a ",this.state.artist.name),r.a.createElement(ee.a,null,r.a.createElement(te.a,{className:"list-song-album-page"},r.a.createElement("div",null,this.state.listSong.map((function(t,a){return r.a.createElement("div",{style:{display:"-webkit-box"}},r.a.createElement("div",{className:"all-card playable",onClick:function(){e.props.playSong(t)}},r.a.createElement("div",{className:"song-list",key:a},r.a.createElement("div",{class:"order"},r.a.createElement("span",{className:"list-number"},a+1)),r.a.createElement("img",{src:t.image,className:"thum-40",alt:t.nameSong})),r.a.createElement("div",{className:"song-card-info"},r.a.createElement("div",{className:"title"},r.a.createElement("p",{className:"title-singer"},t.nameSong)),r.a.createElement("div",{className:"artist"},t.singer.map((function(e,t){return 0===t?r.a.createElement("span",{key:t},e.singer):r.a.createElement("span",{key:t},", ",e.singer)}))))),r.a.createElement("div",null,t.liked?r.a.createElement(ue.b,{className:"like-icon",onClick:function(){return e.likeSong(t.id,t.liked)}}):r.a.createElement(ue.d,{className:"like-icon",onClick:function(){return e.likeSong(t.id,t.liked)}}),r.a.createElement(g.b,{to:"/song/detail/".concat(t.id),style:{marginLeft:"20px"}},r.a.createElement(ue.a,{className:"like-icon"}))))})))))):r.a.createElement("div",null)}}]),t}(n.Component);var Me=Object(i.b)((function(e){return{songActive:e.songActive,user:e.auth}}),(function(e){return Object(l.b)({playSong:V},e)}))(Be);function _e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function He(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_e(a,!0).forEach((function(t){Object(ie.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_e(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ue=function(e){function t(e){var a;return Object(o.a)(this,t),a=Object(m.a)(this,Object(p.a)(t).call(this,e)),console.log(a.props.match.params.id),a.getDataAlbum(a.props.match.params.id),a.getListSong(a.props.match.params.id),a.state={},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleShow",value:function(){this.setState(He({},this.state,{show:!0}))}},{key:"handleClose",value:function(){this.setState(He({},this.state,{show:!1}))}},{key:"getDataAlbum",value:function(){var e=Object(j.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("/album/".concat(t));case 2:a=e.sent,this.setState(He({},this.state,{album:a.data}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getListSong",value:function(){var e=Object(j.a)(k.a.mark((function e(t){var a,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:return a=e.sent,e.next=5,a.get("/song/album/".concat(t));case 5:n=e.sent,console.log(n.data),this.setState(He({},this.state,{listSong:n.data}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"likeSong",value:function(){var e=Object(j.a)(k.a.mark((function e(t,a){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("id like:",a),this.props.user.logined){e.next=4;break}return this.handleShow(),e.abrupt("return");case 4:return e.next=6,P();case 6:if(n=e.sent,a){e.next=15;break}return e.next=10,n.post("/users/like/",{songId:t});case 10:(r=Object(ce.a)(this.state.listSong)).forEach((function(e){e.id===t&&(e.liked=!0)})),this.setState(He({},this.state,{listSong:r})),e.next=20;break;case 15:return e.next=17,n.post("/users/unlike/",{songId:t});case 17:Object(ce.a)(this.state.listSong).forEach((function(e){e.id===t&&(e.liked=!1)})),this.setState(He({},this.state,{item:He({},this.state.item)}));case 20:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.album&&this.state.listSong?r.a.createElement("div",{className:"section"},r.a.createElement(le.a,{show:this.state.show,onHide:function(){return e.handleClose()}},r.a.createElement(le.a.Header,{closeButton:!0},r.a.createElement(le.a.Title,null,"Ch\xfa \xfd")),r.a.createElement(le.a.Body,null,"B\u1ea1n c\u1ea7n ph\u1ea3i \u0111\u0103ng nh\u1eadp \u0111\u1ec3 th\u1ef1c hi\u1ec7n t\xednh n\u0103ng n\xe0y"),r.a.createElement(le.a.Footer,null,r.a.createElement(oe.a,{variant:"secondary",onClick:function(){return e.handleClose()}},"\u0110\xf3ng"),r.a.createElement(g.b,{to:"/login"},r.a.createElement(oe.a,{variant:"primary",onClick:function(){return e.handleClose()}},r.a.createElement("span",null,"Login"))))),r.a.createElement(ee.a,null,r.a.createElement(te.a,{md:3},r.a.createElement("img",{src:this.state.album.img,alt:this.state.album.albumName}),r.a.createElement("h4",null,this.state.album.albumName),this.state.album.singer.map((function(e,t){return 0===t?r.a.createElement(g.b,{to:"/artist/".concat(e.singerId)},r.a.createElement("span",{key:t},e.singer)):r.a.createElement(g.b,{to:"/artist/".concat(e.singerId)},r.a.createElement("span",{key:t},", ",e.singer))}))),r.a.createElement(te.a,{className:"list-song-album-page"},r.a.createElement("div",null,this.state.listSong.map((function(t,a){return r.a.createElement("div",{style:{display:"-webkit-box"}},r.a.createElement("div",{className:"all-card playable",onClick:function(){e.props.playSong(t)}},r.a.createElement("div",{className:"song-list",key:a},r.a.createElement("div",{class:"order"},r.a.createElement("span",{className:"list-number"},a+1)),r.a.createElement("img",{src:t.image,className:"thum-40",alt:t.nameSong})),r.a.createElement("div",{className:"song-card-info"},r.a.createElement("div",{className:"title"},r.a.createElement("p",{className:"title-singer"},t.nameSong)),r.a.createElement("div",{className:"artist"},t.singer.map((function(e,t){return 0===t?r.a.createElement("span",{key:t},e):r.a.createElement("span",{key:t},", ",e)}))))),r.a.createElement("div",null,t.liked?r.a.createElement(ue.b,{className:"like-icon",onClick:function(){return e.likeSong(t.id,t.liked)}}):r.a.createElement(ue.d,{className:"like-icon",onClick:function(){return e.likeSong(t.id,t.liked)}}),r.a.createElement(g.b,{to:"/song/detail/".concat(t.id),style:{marginLeft:"20px"}},r.a.createElement(ue.a,{className:"like-icon"}))))})))))):r.a.createElement("div",null)}}]),t}(n.Component);var Re=Object(i.b)((function(e){return{songActive:e.songActive,user:e.auth}}),(function(e){return Object(l.b)({playSong:V},e)}))(Ue);function qe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?qe(a,!0).forEach((function(t){Object(ie.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ye=function(e){function t(e){var a;return Object(o.a)(this,t),a=Object(m.a)(this,Object(p.a)(t).call(this,e)),console.log(a.props.match.params.id),a.getListSong(a.props.match.params.id),a.state={},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"getListSong",value:function(){var e=Object(j.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("/song/category/".concat(t));case 2:a=e.sent,this.setState(Ke({},this.state,{listSong:a.data}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.listSong?(console.log(this.state.listSong),r.a.createElement("div",{className:"section"},r.a.createElement("h3",null,this.state.listSong[0].categoryName),r.a.createElement(ee.a,null,this.state.listSong.map((function(t,a){return r.a.createElement(te.a,{key:a,col:!0,lg:2,md:3,className:"playable song",onClick:function(){e.props.playSong(t)}},r.a.createElement(g.b,{to:"/song/detail/".concat(t.id)},r.a.createElement("img",{src:t.image,className:"song-image",alt:t.nameSong}),r.a.createElement("p",null,t.nameSong),r.a.createElement("div",{class:"player-actions"},r.a.createElement("ul",null,r.a.createElement("li",{style:{zIndex:11}},r.a.createElement("i",{class:"icon ic-svg-play-outline"}))))))}))))):r.a.createElement("div",null)}}]),t}(n.Component);var Qe=Object(i.b)((function(e){return{songActive:e.songActive}}),(function(e){return Object(l.b)({playSong:V},e)}))(Ye);function We(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Je(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?We(a,!0).forEach((function(t){Object(ie.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):We(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ve=function(e){function t(e){var a;return Object(o.a)(this,t),a=Object(m.a)(this,Object(p.a)(t).call(this,e)),console.log(a.props.match.params.id),a.getListSong(a.props.match.params.id),a.state={},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"getListSong",value:function(){var e=Object(j.a)(k.a.mark((function e(t){var a,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:return a=e.sent,e.next=5,a.get("/song/like");case 5:n=e.sent,console.log(n.data),this.setState(Je({},this.state,{listSong:n.data}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"likeSong",value:function(){var e=Object(j.a)(k.a.mark((function e(t,a){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("id like:",a),this.props.user.logined){e.next=4;break}return this.handleShow(),e.abrupt("return");case 4:return e.next=6,P();case 6:if(n=e.sent,a){e.next=15;break}return e.next=10,n.post("/users/like/",{songId:t});case 10:(r=Object(ce.a)(this.state.listSong)).forEach((function(e){e.id===t&&(e.liked=!0)})),this.setState(Je({},this.state,{listSong:r})),e.next=20;break;case 15:return e.next=17,n.post("/users/unlike/",{songId:t});case 17:Object(ce.a)(this.state.listSong).forEach((function(e){e.id===t&&(e.liked=!1)})),this.setState(Je({},this.state,{item:Je({},this.state.item)}));case 20:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.listSong?(console.log(this.state.listSong),r.a.createElement("div",{className:"section"},r.a.createElement("h4",null,"Danh s\xe1ch b\xe0i h\xe1t b\u1ea1n th\xedch"),r.a.createElement("br",null),r.a.createElement(ee.a,null,r.a.createElement(te.a,{className:"list-song-album-page"},r.a.createElement("div",null,this.state.listSong.map((function(t,a){return r.a.createElement("div",{style:{display:"-webkit-box"}},r.a.createElement("div",{className:"all-card playable",onClick:function(){e.props.playSong(t)}},r.a.createElement("div",{className:"song-list",key:a},r.a.createElement("div",{class:"order"},r.a.createElement("span",{className:"list-number"},a+1)),r.a.createElement("img",{src:t.image,className:"thum-40",alt:t.nameSong})),r.a.createElement("div",{className:"song-card-info"},r.a.createElement("div",{className:"title"},r.a.createElement("p",{className:"title-singer"},t.nameSong)),r.a.createElement("div",{className:"artist"},t.singer.map((function(e,t){return 0===t?r.a.createElement("span",{key:t},e):r.a.createElement("span",{key:t},", ",e)}))))),r.a.createElement("div",null,t.liked?r.a.createElement(ue.b,{className:"like-icon",onClick:function(){return e.likeSong(t.id,t.liked)}}):r.a.createElement(ue.d,{className:"like-icon",onClick:function(){return e.likeSong(t.id,t.liked)}}),r.a.createElement(g.b,{to:"/song/detail/".concat(t.id),style:{marginLeft:"20px"}},r.a.createElement(ue.a,{className:"like-icon"}))))}))))))):r.a.createElement("div",null)}}]),t}(n.Component);var Xe=Object(i.b)((function(e){return{songActive:e.songActive,user:e.auth}}),(function(e){return Object(l.b)({playSong:V},e)}))(Ve);function Ze(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $e(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ze(a,!0).forEach((function(t){Object(ie.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ze(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var et=function(e){function t(e){var a;Object(o.a)(this,t),a=Object(m.a)(this,Object(p.a)(t).call(this,e));var n=new URLSearchParams(a.props.location.search).get("keyword");return a.searchAlbum(n),a.searchSong(n),a.state={},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillUpdate",value:function(e){if(console.log("next",e.location),console.log("props",this.props.location),e.location.search!==this.props.location.search){var t=new URLSearchParams(e.location.search).get("keyword");this.searchAlbum(t),this.searchSong(t)}}},{key:"searchAlbum",value:function(){var e=Object(j.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("/search/album?_keyword=".concat(t));case 2:a=e.sent,this.setState($e({},this.state,{listAlbum:a.data}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"searchSong",value:function(){var e=Object(j.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("/search/song?_keyword=".concat(t));case 2:a=e.sent,this.setState($e({},this.state,{listSong:a.data}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.listSong&&r.a.createElement("div",{className:"section"},r.a.createElement("h3",null,"B\xe0i h\xe1t"),r.a.createElement(ee.a,null,this.state.listSong.map((function(t,a){return a>7?r.a.createElement("div",null):r.a.createElement(te.a,{key:a,col:!0,lg:2,md:3,className:"playable song",onClick:function(){e.props.playSong(t)}},r.a.createElement(g.b,{to:"/song/detail/".concat(t.id)},r.a.createElement("img",{src:t.image,className:"song-image",alt:t.nameSong}),r.a.createElement("p",null,t.nameSong),r.a.createElement("div",{class:"player-actions"},r.a.createElement("ul",null,r.a.createElement("li",{style:{zIndex:11}},r.a.createElement("i",{class:"icon ic-svg-play-outline"}))))))})))),this.state.listAlbum&&r.a.createElement("div",{className:"section"},r.a.createElement("h3",null,"Album"),r.a.createElement(ee.a,null,this.state.listAlbum.map((function(e,t){return r.a.createElement(te.a,{key:t,lg:2,md:2},r.a.createElement(g.b,{to:"/album/".concat(e.id)},r.a.createElement("img",{className:"song-image",src:e.img,alt:e.albumName}),r.a.createElement("p",null,e.albumName)))})))))}}]),t}(n.Component);var tt=Object(i.b)((function(e){return{songActive:e.songActive}}),(function(e){return Object(l.b)({playSong:V},e)}))(et);function at(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function nt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?at(a,!0).forEach((function(t){Object(ie.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):at(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var rt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(ie.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){console.log("tu ligin:",a.state.username),e.preventDefault(),I.post("/auth/signup",{username:a.state.username,name:a.state.name,password:a.state.password,rePassword:a.state.re_password}).then((function(e){console.log(e.data),200===e.data.code&&a.props.history.push("/login?signup=success")})).catch((function(e){400===e.response.status?a.setState(nt({},a.state,{failMess:"T\xe0i kho\u1ea3n \u0111\xe3 t\u1ed3n t\u1ea1i"})):401===e.response.status&&a.setState(nt({},a.state,{failMess:"M\u1eadt kh\u1ea9u kh\xf4ng tr\xf9ng kh\u1edbp"}))}))},a.handleChange=a.handleChange.bind(Object(f.a)(a)),a.state={username:"",password:"",re_password:"",name:""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"validateForm",value:function(){return this.state.username.length>0&&this.state.password.length>=6}},{key:"render",value:function(){return r.a.createElement("div",{className:"Login"},r.a.createElement("h4",null,"\u0110\u0103ng k\xfd t\xe0i kho\u1ea3n"),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(be.a,{controlId:"username",bsSize:"large"},r.a.createElement(Ee.a,null,"T\xean \u0111\u0103ng nh\u1eadp"),r.a.createElement(y.a,{autoFocus:!0,type:"text",onChange:this.handleChange})),r.a.createElement(be.a,{controlId:"name",bsSize:"large"},r.a.createElement(Ee.a,null,"T\xean"),r.a.createElement(y.a,{autoFocus:!0,type:"text",onChange:this.handleChange})),r.a.createElement(be.a,{controlId:"password",bsSize:"large"},r.a.createElement(Ee.a,null,"M\u1eadt kh\u1ea9u"),r.a.createElement(y.a,{value:this.state.password,onChange:this.handleChange,type:"password"})),r.a.createElement(be.a,{controlId:"re_password",bsSize:"large"},r.a.createElement(Ee.a,null,"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u"),r.a.createElement(y.a,{value:this.state.re_password,onChange:this.handleChange,type:"password"})),r.a.createElement("p",{style:{color:"red"}},this.state.failMess),r.a.createElement("br",null),r.a.createElement(oe.a,{className:"button",block:!0,disabled:!this.validateForm(),type:"submit"},"\u0110\u0103ng k\xfd")))}}]),t}(n.Component),st=Object(d.f)(rt),ct=a(335),it=a(169),lt=a.n(it);function ot(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ut(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ot(a,!0).forEach((function(t){Object(ie.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ot(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var mt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this))).props=e,a.numberCmtPage=10,a.state={data:{comments:null,count:0},page:1,totalPage:1},a.getComment(1),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleShow",value:function(){this.setState(ut({},this.state,{show:!0}))}},{key:"handleClose",value:function(){this.setState(ut({},this.state,{show:!1}))}},{key:"getComment",value:function(e){var t=this,a="/song/comment/".concat(this.props.songId,"?page=").concat(e,"&size=").concat(this.numberCmtPage);console.log({url:a}),I.get(a).then((function(e){console.log(e),t.setState({data:e.data,totalPage:Math.round(e.data.count/t.numberCmtPage)})}))}},{key:"onChangeInput",value:function(e){this.setState({input:e})}},{key:"changePage",value:function(e){this.setState(ut({},this.state,{page:e})),this.getComment(e)}},{key:"nextPage",value:function(){this.state.page<this.state.totalPage&&(this.setState(ut({},this.state,{page:this.state.page+1})),this.getComment(this.state.page+1))}},{key:"prePage",value:function(){this.state.page>1&&(this.setState(ut({},this.state,{page:this.state.page-1})),this.getComment(this.state.page-1))}},{key:"pagination",value:function(){for(var e=this,t=[],a=1;a<=this.state.totalPage;a++)t.push(a);return r.a.createElement(ct.a,{style:{paddingLeft:"80%"}},r.a.createElement(ct.a.Prev,{onClick:function(){return e.prePage()}}),t.map((function(t){return r.a.createElement(ct.a.Item,{active:e.state.page===t,onClick:function(){return e.changePage(t)}},t)})),r.a.createElement(ct.a.Next,{onClick:function(){return e.nextPage()}}))}},{key:"submitComment",value:function(){var e=Object(j.a)(k.a.mark((function e(t){var a=this;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),this.props.logined){e.next=4;break}return this.handleShow(),e.abrupt("return");case 4:if(!(this.state.input.length>0)){e.next=9;break}return e.next=7,P();case 7:e.sent.post("/users/comment/".concat(this.props.songId),{content:this.state.input}).then((function(e){a.getComment(),a.setState(ut({},a.state,{input:""}))})).catch((function(e){}));case 9:console.log(this.state.input);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"section comment"},r.a.createElement(le.a,{show:this.state.show,onHide:function(){return e.handleClose()}},r.a.createElement(le.a.Header,{closeButton:!0},r.a.createElement(le.a.Title,null,"Ch\xfa \xfd")),r.a.createElement(le.a.Body,null,"B\u1ea1n c\u1ea7n ph\u1ea3i \u0111\u0103ng nh\u1eadp \u0111\u1ec3 th\u1ef1c hi\u1ec7n t\xednh n\u0103ng n\xe0y"),r.a.createElement(le.a.Footer,null,r.a.createElement(oe.a,{variant:"secondary",onClick:function(){return e.handleClose()}},"\u0110\xf3ng"),r.a.createElement(g.b,{to:"/login"},r.a.createElement(oe.a,{variant:"primary",onClick:function(){return e.handleClose()}},r.a.createElement("span",null,"Login"))))),r.a.createElement("h4",null,"Nh\u1eadn x\xe9t (",this.state.data.count,")"),r.a.createElement(ee.a,null,r.a.createElement(te.a,null,r.a.createElement(v.a,{onSubmit:function(t){return e.submitComment(t)}},r.a.createElement(be.a,null,r.a.createElement(Ee.a,null,"Nh\u1eadn x\xe9t c\u1ee7a b\u1ea1n:"),r.a.createElement(v.a.Control,{as:"textarea",rows:"3",value:this.state.input,onChange:function(t){return e.onChangeInput(t.target.value)},style:{height:"100px",backgroundColor:"#252323",color:"#ffffff"},type:"text",placeholder:"Nh\u1eadn x\xe9t c\u1ee7a b\u1ea1n..."}),r.a.createElement("br",null),r.a.createElement(oe.a,{variant:"primary",type:"submit",style:{float:"right"}},"G\u1eedi"))))),this.state.data.comments?r.a.createElement("div",null,this.state.data.comments.map((function(e){return r.a.createElement(ee.a,{className:"comment-box-content"},r.a.createElement(te.a,{lg:1},r.a.createElement("img",{src:e.avatar,alt:e.username,className:"avatar-comment"})),r.a.createElement(te.a,{style:{marginLeft:"20px"}},r.a.createElement("p",{style:{fontSize:"18px"}},e.name),r.a.createElement("p",{style:{fontSize:"15px"}},e.content),r.a.createElement("p",{style:{fontSize:"11px"}},r.a.createElement(lt.a,{format:"YYYY/MM/DD"},e.createdAt))))}))):r.a.createElement("div",null),this.pagination())}}]),t}(n.Component);function pt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ht(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pt(a,!0).forEach((function(t){Object(ie.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var gt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={liked:!1,show:!1},a.getData(a.props.match.params.id),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleShow",value:function(){this.setState(ht({},this.state,{show:!0}))}},{key:"handleClose",value:function(){this.setState(ht({},this.state,{show:!1}))}},{key:"getData",value:function(){var e=Object(j.a)(k.a.mark((function e(t){var a,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:return a=e.sent,e.next=5,a.get("/song/detail/".concat(t));case 5:n=e.sent,console.log("id la:",n.data),this.setState(ht({},this.state,{item:n.data,liked:n.data.liked}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getNameSinger",value:function(){return this.state.item.singer.map((function(e,t){return 0===t?r.a.createElement(g.b,{to:"/artist/".concat(e.singerId)},r.a.createElement("span",null,e.singer)):r.a.createElement(g.b,{to:"/artist/".concat(e.singerId)},r.a.createElement("span",null,", ",e.singer))}))}},{key:"likeSong",value:function(){var e=Object(j.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.user.logined){e.next=3;break}return this.handleShow(),e.abrupt("return");case 3:return e.next=5,P();case 5:if(t=e.sent,this.state.liked){e.next=12;break}return this.setState(ht({},this.state,{liked:!0,item:ht({},this.state.item,{likeNumber:parseInt(this.state.item.likeNumber)+1})})),e.next=10,t.post("/users/like/",{songId:this.state.item.id});case 10:e.next=15;break;case 12:return this.setState(ht({},this.state,{liked:!1,item:ht({},this.state.item,{likeNumber:parseInt(this.state.item.likeNumber)-1})})),e.next=15,t.post("/users/unlike/",{songId:this.state.item.id});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getNameCategories",value:function(){return this.state.item.categories.map((function(e,t){return 0===t?r.a.createElement(g.b,{to:"/category/".concat(e.id)},r.a.createElement("span",null,e.name)):r.a.createElement(g.b,{to:"/category/".concat(e.id)},r.a.createElement("span",null,", ",e.name))}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"section"},r.a.createElement(le.a,{show:this.state.show,onHide:function(){return e.handleClose()}},r.a.createElement(le.a.Header,{closeButton:!0},r.a.createElement(le.a.Title,null,"Ch\xfa \xfd")),r.a.createElement(le.a.Body,null,"B\u1ea1n c\u1ea7n ph\u1ea3i \u0111\u0103ng nh\u1eadp \u0111\u1ec3 th\u1ef1c hi\u1ec7n t\xednh n\u0103ng n\xe0y"),r.a.createElement(le.a.Footer,null,r.a.createElement(oe.a,{variant:"secondary",onClick:function(){return e.handleClose()}},"\u0110\xf3ng"),r.a.createElement(oe.a,{variant:"primary",onClick:function(){return e.handleClose()}},r.a.createElement(g.b,{to:"/login"},"Login")))),this.state.item&&r.a.createElement(ee.a,null,r.a.createElement(te.a,{lg:2,mg:2},r.a.createElement("img",{alt:this.state.item.nameSong,className:"img-song-detail",src:this.state.item.image})),r.a.createElement(te.a,{lg:9,mg:9},r.a.createElement("h4",null,this.state.item.nameSong),r.a.createElement("span",null,"Ca s\u0129: "),this.getNameSinger(),r.a.createElement("br",null),r.a.createElement("span",null,"S\xe1ng t\xe1c: "),r.a.createElement("span",null,this.state.item.writer),r.a.createElement("br",null),r.a.createElement("span",null,"L\u01b0\u1ee3t th\xedch: "),r.a.createElement("span",null,this.state.item.likeNumber),r.a.createElement("br",null),r.a.createElement("span",null,"Th\u1ec3 lo\u1ea1i: "),this.getNameCategories(),r.a.createElement("br",null),r.a.createElement(oe.a,{className:"listen-button",onClick:function(){return e.props.playSong(e.state.item)}},r.a.createElement(ue.c,null)),r.a.createElement(oe.a,{className:"like-button",onClick:function(){return e.likeSong()}},this.state.liked?r.a.createElement(ue.b,null):r.a.createElement(ue.d,null))))),r.a.createElement(mt,{songId:this.props.match.params.id,logined:this.props.user.logined}))}}]),t}(n.Component);var dt=Object(i.b)((function(e){return{songActive:e.songActive,user:e.auth}}),(function(e){return Object(l.b)({playSong:V},e)}))(gt),ft=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"section footer"},r.a.createElement(ee.a,{className:"sub-footer"},r.a.createElement(te.a,{className:"footer-content"},r.a.createElement("span",{style:{marginRight:"4px"}},"M\u1ed9t s\u1ea3n ph\u1ea9m c\u1ee7a "),r.a.createElement("a",{href:"https://trinhngockhang.github.io/"}," ",r.a.createElement("span",null," Khang Khang ")))),r.a.createElement(ee.a,{style:{justifyContent:"center",marginTop:"20px"}},r.a.createElement("ul",{className:"z-nav-footer"},r.a.createElement("li",null,r.a.createElement("a",{className:"z-link",href:"https://trinhngockhang.github.io/",title:"Gi\u1edbi thi\u1ec7u"},"Gi\u1edbi thi\u1ec7u")),r.a.createElement("li",null,r.a.createElement("div",{class:"z-link z-link-special"},"\u2022")),r.a.createElement("li",null,r.a.createElement("a",{href:"/",class:"z-link",title:"Li\xean h\u1ec7"},"Li\xean h\u1ec7")),r.a.createElement("li",null,r.a.createElement("div",{class:"z-link z-link-special"},"\u2022")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://trinhngockhang.github.io/",class:"z-link",title:"Qu\u1ea3ng c\xe1o",target:"_blank"},"Qu\u1ea3ng c\xe1o")),r.a.createElement("li",null,r.a.createElement("div",{class:"z-link z-link-special"},"\u2022")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://trinhngockhang.github.io/",class:"z-link",title:"G\xf3p \xfd",target:"_blank"},"G\xf3p \xfd")),r.a.createElement("li",null,r.a.createElement("div",{class:"z-link z-link-special"},"\u2022")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://trinhngockhang.github.io/",class:"z-link",title:"Th\u1ecfa thu\u1eadn s\u1eed d\u1ee5ng",target:"_blank"},"Th\u1ecfa thu\u1eadn s\u1eed d\u1ee5ng")))))}}]),t}(n.Component),bt=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(ge,{limit:15})}}]),t}(n.Component),Et=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ze.a,null,r.a.createElement(g.a,null,r.a.createElement(W,null),r.a.createElement(d.b,{path:"/login",component:Ne}),r.a.createElement(d.b,{exact:!0,path:"/",component:fe}),r.a.createElement(d.b,{path:"/artist/:id",component:Me}),r.a.createElement(d.b,{path:"/album/:id",component:Re}),r.a.createElement(d.b,{path:"/category/:id",component:Qe}),r.a.createElement(d.b,{path:"/search",component:tt}),r.a.createElement(Ie,{path:"/user/:id",component:Xe}),r.a.createElement(d.b,{path:"/song/detail/:id",component:dt}),r.a.createElement(d.b,{path:"/signup",component:st}),r.a.createElement(d.b,{path:"/chart",component:bt}),r.a.createElement(ft,null))),r.a.createElement(Te,null))}}]),t}(n.Component);function vt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function yt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?vt(a,!0).forEach((function(t){Object(ie.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):vt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ot(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function kt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ot(a,!0).forEach((function(t){Object(ie.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ot(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var jt=Object(l.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{logined:!1,data:!1},t=arguments.length>1?arguments[1]:void 0;switch(console.log("action ne",t),t.type){case"LOGIN_SUCCESS":return yt({},e,{logined:t.payload});case"LOGIN_FAIL":return yt({},e,{loginFail:t.payload.loginFail});case"CHECKINIT":return yt({},e,{logined:t.payload});case"GETME":return yt({},e,{data:t.payload.user});case"LOGINFACEBOOK":return yt({},e,{logined:t.payload});case"LOGOUT":return yt({},e,{data:t.payload.data,logined:t.payload.logined});case"TOKENEXPIRED":return yt({},e,{data:t.payload.data,logined:t.payload.login});default:return e}},song:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{activeSong:[],list:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLAY_SONG":var a=null;if(e.activeSong.forEach((function(e,n){return a=e.id===t.payload.songActive.id?n:a})),null!=a){var n=Object(ce.a)(e.activeSong);return console.log(a),n.push(n.splice(a,1)[0]),kt({},e,{activeSong:n,list:!0})}return kt({},e,{list:!0,activeSong:[].concat(Object(ce.a)(e.activeSong),[t.payload.songActive])});case"REMOVE_LIST":return kt({},e,{list:!1});default:return e}}}),St=a(171),wt=Object(l.a)(St.a)(l.d)(jt);c.a.render(r.a.createElement(i.a,{store:wt},r.a.createElement(Et,null)),document.querySelector("#root"))}},[[172,1,2]]]);
//# sourceMappingURL=main.4e0f4427.chunk.js.map